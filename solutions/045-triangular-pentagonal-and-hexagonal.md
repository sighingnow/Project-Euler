---
title: Problem 45. Triangular, pentagonal, and hexagonal
author: He Tao
date: 2015-02-15
layout: post
---

## 题目

Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:

+ Triangle        $T_n=n(n+1)/2 $        1, 3, 6, 10, 15, ...
+ Pentagonal      $P_n=n(3n−1)/2$        1, 5, 12, 22, 35, ...
+ Hexagonal       $H_n=n(2n−1)  $        1, 6, 15, 28, 45, ...


It can be verified that $T_285 = P_165 = H_143 = 40755$.

Find the next triangle number that is also pentagonal and hexagonal.

[Problem 45. Triangular, pentagonal, and hexagonal](https://projecteuler.net/problem=45 "Problem 45")

## 翻译

三角数，五角数和六角数分别通过以下公式定义：

+ 三角数         $T_n=n(n+1)/2 $        1, 3, 6, 10, 15, ...
+ 五角数         $P_n=n(3n−1)/2$        1, 5, 12, 22, 35, ...
+ 六角数         $H_n=n(2n−1)  $        1, 6, 15, 28, 45, ...

可以证实 $T_285 = P_165 = H_143 = 40755$.

找出这之后的下一个既是五角数又是六角数的三角数。

[题目45：在40755之后最小的既是五角数又是六角数的三角数是多少？](http://pe.spiritzhang.com/index.php/2011-05-11-09-44-54/46-4540755 "题目45")

## 题解

分析：集合求交，利用库函数，加快运算速度。

答案(answer): 1533776805

+ Python

~~~python
#! /usr/bin/env python
# -*- coding: utf-8 -*-

def euler_45():
    T = set([n*(n+1)//2 for n in range(0, 1000000)])
    P = set([n*(3*n-1)//2 for n in range(0, 1000000)])
    H = set([n*(2*n-1) for n in range(0, 100000)])
    return T & P & H

if __name__ == '__main__':
    print(euler_45())

# vim: set sw=4, ts=4
~~~
